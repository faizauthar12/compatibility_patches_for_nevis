From 56f81b5090ba0f1155fe3c16d95322cd22329822 Mon Sep 17 00:00:00 2001
From: ghsr <ghsr92@yandex.ru>
Date: Thu, 10 Dec 2015 02:25:02 +0600
Subject: [PATCH] Revert "LatinIME: Add fallback loader for JNI lib"

This reverts commit 93c10bd3665ba012243b78080a54552d8440493c.

Change-Id: I8c40b79453607da4397a2324565aca7df09a9d41
---
 .../src/com/android/inputmethod/latin/define/JniLibName.java   |  1 -
 java/src/com/android/inputmethod/latin/utils/JniUtils.java     | 10 +++-------
 2 files changed, 3 insertions(+), 8 deletions(-)

diff --git a/java-overridable/src/com/android/inputmethod/latin/define/JniLibName.java b/java-overridable/src/com/android/inputmethod/latin/define/JniLibName.java
index 83ed5eb..abfc36d 100644
--- a/java-overridable/src/com/android/inputmethod/latin/define/JniLibName.java
+++ b/java-overridable/src/com/android/inputmethod/latin/define/JniLibName.java
@@ -22,5 +22,4 @@ public final class JniLibName {
     }
 
     public static final String JNI_LIB_NAME = "jni_latinime";
-    public static final String JNI_LIB_NAME2 = "jni_latinimegoogle";
 }
diff --git a/java/src/com/android/inputmethod/latin/utils/JniUtils.java b/java/src/com/android/inputmethod/latin/utils/JniUtils.java
index 448a249..d3fccea 100644
--- a/java/src/com/android/inputmethod/latin/utils/JniUtils.java
+++ b/java/src/com/android/inputmethod/latin/utils/JniUtils.java
@@ -26,14 +26,10 @@ public final class JniUtils {
     public static boolean mHaveGestureLib = false;
     static {
         try {
-            System.loadLibrary(JniLibName.JNI_LIB_NAME2);
+            System.loadLibrary(JniLibName.JNI_LIB_NAME);
             mHaveGestureLib = true;
-        } catch (UnsatisfiedLinkError ue) {
-            try {
-                System.loadLibrary(JniLibName.JNI_LIB_NAME);
-            } catch (UnsatisfiedLinkError ule) {
-                Log.e(TAG, "Could not load native library " + JniLibName.JNI_LIB_NAME, ule);
-            }
+        } catch (UnsatisfiedLinkError ule) {
+            Log.e(TAG, "Could not load native library " + JniLibName.JNI_LIB_NAME, ule);
         }
     }
 
-- 
2.6.3

